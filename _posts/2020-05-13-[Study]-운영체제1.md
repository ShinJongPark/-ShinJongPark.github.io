---
title: "[Studying] 운영체제, OS"
tag: "study"
---

운영체제 또는 OS(Operating System)은 시스템 하드웨어를 관리할 뿐 아니라 응용 소프트웨어를 실행하기 위하여 하드웨어 추상화 플랫폼과 공통 시스템 서비스를 제공하는 **시스템 소프트웨어** 이다. 최근에는 가상화 기술의 발전에 힘입어 실제 하드웨어가 아닌 1) **하이퍼바이저**  위에서 실행되기도 한다.

운영 체제는 리소스 관리자, CPU, Memory, 보조 기억장치, 네트워크 등의 자원들을 잘 관리하여 응용 소프트웨어들에게 제공해주는 역할을 하는 소프트웨어.

하드웨어 추상화 플랫폼 또한 중요한 개념이다. 추상화는 프로그래밍에 있어 매우 중요하고 유용한 개념이다. 응용 소프트웨어를 개발할 때 파일 접근이 필요하면 보조 기억장치가 어떤 장치인지 몰라도 이용할 수 있고, 물리 메모리가 부족하여 스왑핑이 일어나야 하더라도 직접 보조기억장치에 페이지 내용을 복사하는 작업 등을 할 필요가 없다. 단지 OS에게 요청하기만 하면 알아서 잘 처리된다.

<br>

1) 하이퍼 바이저

```
하이퍼 바이저 : 호스트 컴퓨터에서 다수의 운영체제를 동시에 실행하기 위한 논리적 플랫폼을 말한다. 가상화 또는 가상화 머신 매니저(Virtual Machine Manager, Virtual Machine Monitor, VMM)라고도 부른다.

일반적으로 2가지로 나뉜다.
- type 1 (native or bare-metal)
운영 체제가 프로그램을 제어하듯이 하이퍼바이저가 해당 하드웨어에서 직접 실행되며, 게스트 운영 체제는 하드웨어 위에서 2번째 수준으로 실행된다.

- type 2 (hosted)
하이퍼바이저는 일반 프로그램과 같이 호스트 운영 체제에서 실행되며 VM 내부에서 동작되는 게스트 운영 체제는 하드웨어에서 3번째 수준으로 실행된다. VM의 대표적인 종류는 VMware Server, VMware Workstation, VMware Fusion, VirtualBox 등이 있다.
```

![출처:위키백과](https://user-images.githubusercontent.com/46040293/81761998-7bf1ad80-9506-11ea-95b5-009927e9f0ef.png)



<br>

<br>

## 개요

다음 사진은 OS가 제공하는 몇가지의 주요 서비스에 대한 그림이다. 사용자가 운영 체제와 맞닿아 있는 부분을 사용자 인터페이스(User interface)라고 하며, GUI (Graphic User Inteface) 또는 CUI (Command User Interface) 로 나뉜다.

실제 서비스를 받기 위한 방법으로 시스템 콜(System Calls)들이 제공된다. 윈도우에서는 WinAPI라는 이름으로 불린다.

![출처:https://brunch.co.kr/@toughrogrammer/15](https://user-images.githubusercontent.com/46040293/81767700-07257000-9514-11ea-8eab-3b78a7fcef0a.png)

<br>

<br>

## 프로세스 생애 주기

프로세스는 **프로그램의 인스턴스**로 운영 체제에서 가장 기본적인 실행 단위이다. 각 프로세스는 메모리를 차지하고, 일정 상태 주기를 가진다. 다음 사진은 프로세스의 메모리 구조를 간략하게 나타낸 것이다. 어떻게 프로그램을 실행되게 만들었느냐에 따라 다르지만, 보통 지역변수나 함수호출로 인한 것은 **스택(Stack)** 영역에 할당되며, 동적 메모리 할당은 **힙(Heap)** , 초기화되지 않은 전역변수는 **BSS(Blocked Stated Symbol)** 영역, 초기화된 전역변수는 **데이터(DATA**), 함수, 제어문, 상수와 같은 것들은 **코드(CODE)**영역에 메모리가 할당된다. Stack 과 Heap 영역은 런타임시에 크기가 결정되며, 나머지 영역은 컴파일시에 크기가 결정된다.

![https://brunch.co.kr/@toughrogrammer/15](https://user-images.githubusercontent.com/46040293/81768181-528c4e00-9515-11ea-89fe-1f51b7896d52.png)

<br>

프로세스는 보통 5가지의 상태 중 하나의 상태로 존재한다. 처음 프로그램을 실행하기 위해 OS에게 요청하면, 프로세스를 new 상태로 생성하고, 실행 가능한 상태가 되면 ready 상태가 된다. ready 상태의 프로세스는 스케쥴러에 의해 running 상태가 되어 실행되다가 I/O 혹은 이벤트 대기에 의해 wawting 상태가 되거나 인터럽트에 의해 다시 ready 상태가 된다. wating 상태였던 프로세스는 I/O나 이벤트가 완료됨에 따라 다시 ready 상태가 된다. 실행 중이었던 프로그램이 종료되면 terminated 상태가 되고, 곧 OS에 의해 자원이 회수된다.

![https://brunch.co.kr/@toughrogrammer/15](https://user-images.githubusercontent.com/46040293/81769410-8026c680-9518-11ea-8f53-b94e3f1f7641.png)



위의 프로세스 메모리 구조는 프로세스 자체의 인스턴스이고, 운영 체제에서는 각 프로세스를 관리하기 위한 PCB(Process Control Block) 이라는 별도의 자료구조로 프로세스들을 관리한다.

PCB에는 프로세스가 실행되는 동안 필요한 정보인 Program Counter나 Register값, 가상 메모리를 위한 페이지 테이블, 열었던 파일목록 등이 포함된다. 다음 사진은 프로세스 실행 도중 다른 프로세스가 실행되는 흐름을 나타내는 다이어그램이다.

![https://brunch.co.kr/@toughrogrammer/15](https://user-images.githubusercontent.com/46040293/81769691-3d192300-9519-11ea-8146-78b246dcac17.png)

